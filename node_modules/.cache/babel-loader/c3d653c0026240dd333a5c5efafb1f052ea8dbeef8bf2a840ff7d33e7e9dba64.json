{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst url = \"https://imdb-top-60-video-games-ezra.onrender.com/\";\nconst initialState = {\n  gameItems: [],\n  amount: 1,\n  total: 0,\n  isLoading: true\n};\nexport const getGameItems = createAsyncThunk('game/getGameItems', async (name, thunkAPI) => {\n  try {\n    console.log(\"ID\", name);\n    console.log(\"thunkAPI\", thunkAPI.getState());\n    const resp = await axios(url);\n    return resp.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(\"there's seems to be an error\");\n  }\n});\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    clearGame: state => {\n      state.gameItems = [];\n      state.amount = 0;\n    },\n    removeItem: (state, action) => {\n      console.log(\"game action\", action);\n      const itemId = action.payload;\n      state.gameItems = state.gameItems.filter(item => item.id !== itemId);\n    },\n    increase: (state, action) => {\n      const gameItem = state.gameItems.find(item => item.id === action.payload);\n      gameItems.metascore = gameItems.metascore + 1;\n    },\n    decrease: (state, action) => {\n      const gameItem = state.gameItems.find(item => item.id === action.payload);\n      gameItems.metascore = gameItems.metascore - 1;\n    }\n  },\n  extraReducers: {\n    [getGameItems.pending]: state => {\n      state.isLoading = true;\n    },\n    [getGameItems.fulfilled]: (state, action) => {\n      console.log(\"aczian\", action);\n      state.isLoading = false;\n      state.gameItems = action.payload;\n      console.log(\"gameItems = \", state.gameItems);\n    },\n    [getGameItems.rejected]: (state, action) => {\n      console.log(\"error action\", action);\n      state.isLoading = false;\n    }\n  }\n});\nconsole.log(\"gameSlice\", gameSlice);\nexport const {\n  clearGame,\n  removeItem\n} = gameSlice.actions;\nexport default gameSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","url","initialState","gameItems","amount","total","isLoading","getGameItems","name","thunkAPI","console","log","getState","resp","data","error","rejectWithValue","gameSlice","reducers","clearGame","state","removeItem","action","itemId","payload","filter","item","id","increase","gameItem","find","metascore","decrease","extraReducers","pending","fulfilled","rejected","actions","reducer"],"sources":["/home/ezra-blackfish/Documents/redux-toolkit-tutorial/starter/src/features/game/gameSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst url = \"https://imdb-top-60-video-games-ezra.onrender.com/\";\n\n\nconst initialState = {\n\tgameItems: [],\n\tamount: 1,\n\ttotal: 0,\n\tisLoading: true\n}\n\nexport const getGameItems = createAsyncThunk('game/getGameItems',\n\tasync (name, thunkAPI) => {\n\t\ttry {\n\t\t\tconsole.log(\"ID\", name);\n\t\t\tconsole.log(\"thunkAPI\", thunkAPI.getState());\n\t\t\tconst resp = await axios(url);\n\t\t\treturn resp.data\n\t\t} catch (error) {\n\t\t\treturn thunkAPI.rejectWithValue(\"there's seems to be an error\");\n\t\t}\n\t}\n);\n\nconst gameSlice = createSlice({\n\tname: 'game',\n\tinitialState,\n\treducers: {\n\t\tclearGame:(state)=> {\n\t\t\tstate.gameItems = [];\n\t\t\tstate.amount = 0;\n\t\t},\n\t\tremoveItem: (state, action) => {\n\t\t\tconsole.log(\"game action\", action);\n\t\t\tconst itemId = action.payload\n\t\t\tstate.gameItems = state.gameItems.filter(\n\t\t\t\t(item) => item.id !== itemId\n\t\t\t);\n\t\t},\n\t\tincrease: (state, action) => {\n\t\t\tconst gameItem = state.gameItems.find((item) => item.id === action.payload)\n\t\t\tgameItems.metascore = gameItems.metascore + 1\n\t\t},\n\t\tdecrease: (state, action) => {\n\t\t\tconst gameItem = state.gameItems.find((item) => item.id === action.payload)\n\t\t\tgameItems.metascore = gameItems.metascore - 1\n\t\t},\n\t},\n\textraReducers:{\n\t\t[getGameItems.pending] : (state) => {\n\t\t\tstate.isLoading = true;\n\t\t},\n\t\t[getGameItems.fulfilled] : (state, action) => {\n\t\t\tconsole.log(\"aczian\", action);\n\t\t\tstate.isLoading = false;\n\t\t\tstate.gameItems = action.payload;\n\t\t\tconsole.log(\"gameItems = \", state.gameItems);\n\t\t},\n\t\t[getGameItems.rejected] : (state, action) => {\n\t\t\tconsole.log(\"error action\", action);\n\t\t\tstate.isLoading = false;\n\t\t},\n\n\n\t},\n\n})\n\nconsole.log(\"gameSlice\", gameSlice);\n\nexport const { clearGame, removeItem } = gameSlice.actions;\nexport default gameSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}